(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[331],{3210:(t,e,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/collections/[collectionAddress]/[nftAddress]",function(){return a(8760)}])},6076:(t,e,a)=>{"use strict";a.d(e,{u:()=>n});var s=a(3110),r=a(4335);class i{getTimestamp(){return Math.floor(Date.now()/1e3).toString()}async generateSignature(t){let e=new TextEncoder,a=e.encode(this.secretKey),s=await crypto.subtle.importKey("raw",a,{name:"HMAC",hash:"SHA-256"},!1,["sign"]);return btoa(Array.from(new Uint8Array(await crypto.subtle.sign("HMAC",s,e.encode(t)))).map(t=>String.fromCharCode(t)).join(""))}async request(t){try{return(await this.client.request(t)).data}catch(t){throw console.error("Ошибка API запроса:",t),t}}constructor(t,e){this.addSignatureAndTimestamp=async t=>{let e=JSON.stringify(t.data||t.params||{}),a=this.getTimestamp(),r=await this.generateSignature(e);return t.headers||(t.headers=new s.$t),t.headers.set("Content-Type","application/json"),t.headers.set("X-TIMESTAMP",a),t.headers.set("X-SIGNATURE",r),t},this.secretKey=e,this.client=r.A.create({baseURL:t}),this.client.interceptors.request.use(this.addSignatureAndTimestamp)}}let n=new i("https://api.eralab.net/api","iO0HgZuPjY6OVm9UxpG9hGuhWujuiERL8t5CFvrJB0tWSN18TsWl86eNxZJkFpYMv0mm7tz2MnM6g0v8wQPYTw==")},1530:(t,e,a)=>{"use strict";a.d(e,{$P:()=>i,Us:()=>n});var s=a(6076),r=a(1080);async function i(t){let e="nftDetails_".concat(t),a=(0,r.p)(e,5);if(a)return console.log("Детали NFT получены из кэша."),a;let i=await s.u.request({method:"GET",url:"/nfts/".concat(t)});return(0,r.$)(e,i),i}async function n(t,e,a){try{return console.log("Fetching NFTs:",{walletAddress:t,collectionAddress:e,page:a}),await s.u.request({method:"GET",url:"/nfts/filtered-user-collection-nfts",params:{walletAddress:t,collectionAddress:e,page:a}})}catch(t){throw console.error("Error fetching NFTs:",t),Error("Failed to load NFTs.")}}},1080:(t,e,a)=>{"use strict";a.d(e,{$:()=>r,p:()=>s});let s=(t,e)=>{let a=localStorage.getItem(t);if(!a)return null;let{data:s,timestamp:r}=JSON.parse(a);return(Date.now()-r)/6e4>e?(localStorage.removeItem(t),null):s},r=(t,e)=>{let a={data:e,timestamp:Date.now()};localStorage.setItem(t,JSON.stringify(a))}},8760:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>m});var s=a(4848),r=a(6540),i=a(6715),n=a(9965),l=a.n(n),c=a(4104),o=a.n(c),u=a(4496),h=a(1530);let m=()=>{let{nftAddress:t}=(0,i.useRouter)().query,[e,a]=(0,r.useState)(null),[n,c]=(0,r.useState)(!0),[m,d]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{(async()=>{if(t)try{let e=await (0,h.$P)(t);a(e)}catch(t){console.error("Error fetching NFT details:",t),d(!0)}finally{c(!1)}})()},[t]),n)?(0,s.jsx)("p",{children:"Загрузка..."}):m||!e?(0,s.jsx)("p",{children:"Ошибка при загрузке данных NFT."}):(0,s.jsxs)("div",{className:o().container,children:[(0,s.jsx)("div",{className:o().imageContainer,children:(0,s.jsx)(l(),{src:(0,u.Z)(e.imageUrl||""),alt:e.name||"NFT",width:400,height:400,className:o().image,onError:t=>{t.currentTarget.src="https://i.ibb.co/BsfbVYc/NFT-games.png"}})}),(0,s.jsx)("h1",{className:o().name,children:e.name||"Без названия"}),(0,s.jsxs)("div",{className:o().attributesContainer,children:[(0,s.jsx)("h2",{className:o().attributesTitle,children:"Атрибуты"}),(0,s.jsx)("ul",{className:o().attributesList,children:Object.entries(e.attributes||{}).map(t=>{let[e,a]=t;return(0,s.jsxs)("li",{className:o().attributeItem,children:[(0,s.jsxs)("span",{className:o().attributeKey,children:[e,":"]}),(0,s.jsx)("span",{className:o().attributeValue,children:a})]},e)})})]})]})}},4496:(t,e,a)=>{"use strict";a.d(e,{Z:()=>s});let s=t=>t?t.startsWith("ipfs://")?t.replace("ipfs://","https://ipfs.io/ipfs/"):t:"https://i.ibb.co/BsfbVYc/NFT-games.png"},4104:t=>{t.exports={container:"NftDetails_container__i1toT",imageContainer:"NftDetails_imageContainer__oWTPl",image:"NftDetails_image__b_Hy4",name:"NftDetails_name__sZRog",attributesContainer:"NftDetails_attributesContainer__Bz92k",attributesTitle:"NftDetails_attributesTitle__ZLLtv",attributesList:"NftDetails_attributesList__kUjqU",attributeItem:"NftDetails_attributeItem__yThLi",attributeKey:"NftDetails_attributeKey__v5HWh",attributeValue:"NftDetails_attributeValue__eZ0T2"}}},t=>{var e=e=>t(t.s=e);t.O(0,[556,965,636,593,792],()=>e(3210)),_N_E=t.O()}]);