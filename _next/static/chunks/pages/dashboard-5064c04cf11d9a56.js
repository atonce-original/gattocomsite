(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[724],{7100:(e,a,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return t(5342)}])},5342:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>u});var s=t(4848),n=t(6540),l=t(6715),r=t(4335);async function c(e,a){try{var t;let s=(await r.A.post("".concat("https://api.eralab.ru/api","/Wallet/base"),{walletAddress:e,telegramUserId:a})).data;return{walletAddress:s.non_bounceable_address,balance:null!==(t=s.balance)&&void 0!==t?t:0}}catch(e){throw console.error("Ошибка при получении данных о кошельке:",e),e}}var o=t(571),i=t(8032),d=t.n(i);let u=()=>{let e=(0,o.c5)(),a=(0,l.useRouter)(),[t,r]=(0,n.useState)(null),[i,u]=(0,n.useState)(null);if((0,n.useEffect)(()=>{if(void 0!==window.Telegram&&window.Telegram.WebApp){let e=window.Telegram.WebApp.initDataUnsafe;e&&e.user&&u(e.user.id.toString())}},[]),(0,n.useEffect)(()=>{e&&e.account?i&&c(e.account.address,i).then(e=>{console.log("Данные кошелька:",e),r(e)}).catch(e=>{console.error("Ошибка при загрузке данных о кошельке:",e),alert("Не удалось загрузить данные о кошельке")}):a.push("/")},[e,i,a]),!t)return(0,s.jsx)("p",{children:"Загрузка..."});let _="".concat(t.walletAddress.slice(0,4),"****").concat(t.walletAddress.slice(-4));return(0,s.jsxs)("div",{className:d().container,children:[(0,s.jsx)("div",{className:d().settingsIcon,onClick:()=>{a.push("/settings")},children:"⚙️"}),(0,s.jsxs)("h2",{children:["TON : ",null!==t.balance?(t.balance/1e9).toFixed(2):"N/A"]}),(0,s.jsx)("p",{className:d().walletAddress,onClick:()=>{t&&t.walletAddress&&(navigator.clipboard.writeText(t.walletAddress),alert("Адрес скопирован!"))},title:"Нажмите для копирования",children:_}),(0,s.jsxs)("div",{className:d().iconContainer,children:[(0,s.jsx)("button",{className:d().iconButton,children:"Аккаунт"}),(0,s.jsx)("button",{className:d().iconButton,children:"NFT"}),(0,s.jsx)("button",{className:d().iconButton,children:"DAO"})]}),i&&(0,s.jsxs)("p",{className:d().telegramId,children:["Ваш Telegram ID: ",i]}),(0,s.jsx)("button",{className:d().marketButton,onClick:()=>{a.push("/collection")},children:"MARKET"}),(0,s.jsx)("p",{className:d().eralabInfo,children:"ERALAB : **"})]})}},8032:e=>{e.exports={container:"Dashboard_container__KcHrK",iconContainer:"Dashboard_iconContainer__tIMCF",iconButton:"Dashboard_iconButton__NRYaH",marketButton:"Dashboard_marketButton__pF1HQ",settingsIcon:"Dashboard_settingsIcon__D5WK_",walletAddress:"Dashboard_walletAddress__2fBtd"}},6715:(e,a,t)=>{e.exports=t(8440)}},e=>{var a=a=>e(e.s=a);e.O(0,[335,636,593,792],()=>a(7100)),_N_E=e.O()}]);