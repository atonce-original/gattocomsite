(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[724],{7100:(e,a,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return s(5342)}])},5342:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>u});var t=s(4848),n=s(6540),l=s(6715),c=s(4335);async function o(e){try{var a;let s=(await c.A.post("".concat("https://api.eralab.net/api","/wallet/base"),[e])).data[0];return{walletAddress:s.non_bounceable_address,balance:null!==(a=s.balance)&&void 0!==a?a:0}}catch(e){throw console.error("Ошибка при получении данных о кошельке:",e),e}}var r=s(571),d=s(8032),i=s.n(d);let u=()=>{let e=(0,r.c5)(),a=(0,l.useRouter)(),[s,c]=(0,n.useState)(null);if((0,n.useEffect)(()=>{e&&e.account?o(e.account.address).then(e=>{console.log("Данные кошелька:",e),c(e),localStorage.setItem("userAccountId",e.walletAddress)}).catch(e=>{console.error("Ошибка при загрузке данных о кошельке:",e),alert("Не удалось загрузить данные о кошельке")}):a.push("/")},[e,a]),!s)return(0,t.jsx)("p",{children:"Загрузка..."});let d="".concat(s.walletAddress.slice(0,4),"****").concat(s.walletAddress.slice(-4)),u=e=>{a.push("".concat(e,"?userAccountId=").concat(encodeURIComponent(s.walletAddress)))};return(0,t.jsxs)("div",{className:i().container,children:[(0,t.jsx)("div",{className:i().settingsIcon,onClick:()=>{a.push("/settings")},children:"⚙️"}),(0,t.jsx)("h2",{children:(0,t.jsx)("p",{className:i().eralabInfo,children:"ERALAB : 0.00"})}),(0,t.jsxs)("h2",{children:["TON : ",null!==s.balance?(s.balance/1e9).toFixed(2):"N/A"]}),(0,t.jsx)("p",{className:i().walletAddress,onClick:()=>{(null==s?void 0:s.walletAddress)&&(navigator.clipboard.writeText(s.walletAddress),alert("Адрес скопирован!"))},title:"Нажмите для копирования",children:d}),(0,t.jsxs)("div",{className:i().iconContainer,children:[(0,t.jsx)("button",{className:i().dashboardButton,onClick:()=>u("/dao"),children:"DAO"}),(0,t.jsx)("button",{className:i().dashboardButton,onClick:()=>u("/collection"),children:"MARKET"})]})]})}},8032:e=>{e.exports={container:"Dashboard_container__KcHrK",iconContainer:"Dashboard_iconContainer__tIMCF",dashboardButton:"Dashboard_dashboardButton__65AnI",settingsIcon:"Dashboard_settingsIcon__D5WK_",walletAddress:"Dashboard_walletAddress__2fBtd"}}},e=>{var a=a=>e(e.s=a);e.O(0,[909,636,593,792],()=>a(7100)),_N_E=e.O()}]);