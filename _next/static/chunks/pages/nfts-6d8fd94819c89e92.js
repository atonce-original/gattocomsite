(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[947],{2126:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/nfts",function(){return n(6448)}])},6448:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var c=n(4848),s=n(6540),a=n(6715),o=n(804),l=n.n(o),i=n(9965),r=n.n(i);let d=()=>{let e=(0,a.useRouter)(),{collectionName:t,collectionAddress:n}=e.query,[o,i]=(0,s.useState)([]),[d,_]=(0,s.useState)(!0),[u,h]=(0,s.useState)(null),[N,p]=(0,s.useState)(1),f=e.query.userAccountId;return(0,s.useEffect)(()=>{n&&f?(console.log("Запрос к API: /api/nft/filtered-user-collection-nfts?accountId=".concat(f,"&collectionAddress=").concat(n,"&page=").concat(N)),fetch("http://localhost:8081/api/nft/filtered-user-collection-nfts?accountId=".concat(f,"&collectionAddress=").concat(n,"&page=").concat(N)).then(e=>{if(!e.ok)throw Error("Ошибка: ".concat(e.status));return e.json()}).then(e=>{i(e),_(!1)}).catch(e=>{console.error("Ошибка при загрузке NFT:",e),h("Ошибка при загрузке NFT."),_(!1)})):f||h("Адрес кошелька не передан.")},[n,f,N]),(0,c.jsxs)("div",{className:l().container,children:[(0,c.jsx)("h1",{className:l().title,children:t}),d?(0,c.jsx)("p",{children:"Загрузка..."}):u?(0,c.jsx)("p",{className:l().error,children:u}):(0,c.jsx)("div",{className:l().grid,children:o.map(e=>(0,c.jsxs)("div",{className:l().card,children:[e.image?(0,c.jsx)(r(),{src:e.image,alt:e.name,width:100,height:100}):(0,c.jsx)("div",{className:l().noImage,children:"Нет изображения"}),(0,c.jsx)("p",{children:e.name})]},e.id))}),(0,c.jsxs)("div",{className:l().pagination,children:[(0,c.jsx)("button",{onClick:()=>{N>1&&p(e=>e-1)},disabled:1===N,children:"Назад"}),(0,c.jsxs)("span",{children:["Страница ",N]}),(0,c.jsx)("button",{onClick:()=>{p(e=>e+1)},children:"Вперед"})]})]})}},804:e=>{e.exports={container:"NFTCollection_container__Kxfwl",title:"NFTCollection_title__9Xkg8",grid:"NFTCollection_grid__NNf8p",card:"NFTCollection_card__byzzq",pagination:"NFTCollection_pagination__CTB0F",noImage:"NFTCollection_noImage__sK_8B"}},6715:(e,t,n)=>{e.exports=n(8440)}},e=>{var t=t=>e(e.s=t);e.O(0,[965,636,593,792],()=>t(2126)),_N_E=e.O()}]);